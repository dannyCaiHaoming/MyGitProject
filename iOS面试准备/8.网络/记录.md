

# HTTP&HTTPS相关

## HTTP
超文本传输协议
无连接，无状态，所以有cookie，session。长度是否达到。post请求一段段返回，最后chunked是否为空
持久连接，因为每次连接需要需要经过三次握手，因此如果多次建立连接会造成不必要的负担，因此有keep-alive保持持续连接。

### 请求结构：
请求行，请求头，请求主体

### 响应结构：
响应行，响应头，响应主体

### 请求方式：GET & POST （PUT，HEAD，DELETE，OPTIONS），区别

GET的意思是获取，POST的意思传递。因此GET不会造成变更，POST可能存在变更的意思。
GET的请求参数跟在？后面，有长度限制。POST请求参数在请求体内，没有限制。
GET可缓存。

### Post请求体格式
form表格格式，json格式，xml格式



### 摘要
对传输内容使用摘要算法得出的加密内容。一般方便快速得到摘要，可使用部分进行对比。然后再使用私钥进行加密，得到摘要。
接收方使用公钥对摘要进行解密，然后使用摘要算法对内容进行加密，然后对比。可以找出内容和摘要是否被替换，因为摘要内容只要同一对
秘钥才能得到，`有不可抵赖和仿冒的特性`---------但是这个公钥怎么传给接收方？


### 数字证书
将公钥给数字证书颁发中心，中心使用它的私钥进行加密，得到数字证书。
因此只要在确认需要建立发送链接的时候，服务器对客户端发出数字证书，只要这个数字证书是得到认证的，客户端就能从中解密得到服务器的公钥。
之后的过程就是上面摘要一样。客户端使用数字证书中的公钥，对接收的内容的摘要进行解密，然后和内容摘要加密后进行对比。


### HTTPS 

交流过程就是，先由服务器和CA中心沟通，使用服务器的公钥和域名信息，CA使用私钥生成了数字证书给回服务器。
然后当客户端要发起请求的时候，服务器会将这个证书发给客户端。客户端从电脑中找到这个CA中心的证书，然后获取到他的公钥，
使用这个CA中心的公钥就能解密服务器的证书得到服务器的公钥。然后客户端将生成的秘钥使用服务器的公钥进行加密得到会话秘钥。
客户端将会话秘钥传回给服务器，服务器使用私钥解密后，之后的传输加解密都是用这个生成的秘钥进行。

### SSL
就是跟数字证书过程类似，不过第一步通知服务器发起连接的时候会发送随机数1，服务器返回证书的时候会发送随机数2，
客户端将服务器公钥加密的随机数3发回服务器，然后最终的秘钥就是这三个随机数生成。预主秘钥是客户端生成的用服务器公钥加密的那个。

# TCP&UDP相关

tcp面向字节，udp面向报文。
即是udp的话，上层有多少内容多大就按多大去发送。
tcp的话，会合并整理，累计到一定数量再去发送。

## tcp
可靠性： 三次握手，四次挥手

无差错，不丢失，不重复，按序到达

保证可靠性---报文验证，ack应答，超时重传，失序数据重传，丢弃重复数据，流量控制，拥塞控制

滑动窗口：接收方根据接收缓冲区大小，通过ack报文通知发送方调整。

拥塞控制：慢启动，拥塞避免。
即开始使用指数增加，达到临界区后，开始线性增长。如果遇到网络拥塞，即将阀值减半，从1开始重新慢启动。

快重传，快恢复：
当连续收到三个确认报文后，立即重传确认报文后的一个保温。
快恢复是快重传后，认为达到了网络拥塞，将当前窗口值减半，然后线性继续。

# DNS相关
