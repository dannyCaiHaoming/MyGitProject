

### 1. 信息收集



#### 1. 收集域名信息



1. Whois

用于查询域名是否被注册，以及域名的详细信息。

2. 备案信息查询

- ICP.  www.beianbeian.com
- 天眼查. www.tianyancha.com



#### 1.2 敏感信息

##### 1. google搜索

- Site：指定域名
- Intext：指定关键字
- Intitle: 标题中存在关键字的网页
- info: 基本信息
- inurl: URL存在关键字的网页
- filetype: 搜索指定文件类型

###### 案例一：搜索存在敏感信息的网站

google输入"intitle: 管理登录 filetype:php"，能查到标题存在登录管理的php类型网站。

###### 案例二：搜集Discuz讨论主机

google输入"intext:Powered by Discuz"



#### 1.3 收集子域名信息

1. 子域名检测工具

`Layer子域名挖掘机`，`Sublist3r`,`subDomainBrute`

2. 搜索引擎

   google   ->.  `site *****`

3. 第三方聚合应用枚举

例如： `DNSdumpster`

4. 证书透明度公开日志枚举

证书透明度（CT）是证书授权机构（CA）的一个项目，会将每个SSL、TLS证书发布其中。里面就会包含域名、子域名和邮件地址。



#### 1.4 收集常用端口信息

常见的工具有`Nmap`。无状态端口扫描工具`Masscan`,`ZMap`，`御剑高速TCP端口扫描工具`



#### 1.5 指纹识别

计算机的指纹识别不仅针对网站CMS 的指纹识别，还有针对服务器操作系统的指纹 识别 和对web 容器的指纹识别等

应用程序一般在html、js、css等文件中会有一些特征码。



#### 1.6 查找真实IP

CDN：内容分发网络，主要解决因传输距离和不同运营商节点造成网络速度性能低下的问题。即会将用户常访问的数据资源直接缓存在一个较近的节点服务器上。

1. 目标服务器存在CDN

ping目标域名的时候，得到的并非真正目标的Web服务器，只是离我们最近的一个节点CDN服务器。

2. 判断目标是否使用了CDN

从多地ping同一个服务器，观察返回的IP结果是否唯一

3. 绕过CDN寻找真实IP

- 内部邮箱源
- 扫描网站测试文件
- 分站域名
- 国外访问

4. 验证获取的IP



#### 1.7 收集敏感目录文件

##### DirBuster：

