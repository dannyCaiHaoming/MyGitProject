
#### 常规学习SQL绕过



#### CTF中常见SQL绕过

##### 1. handler 语句

- handler table_name open as 'x'; 打开表会话，用参数x表示。
- handler table_name read first; 读取第一行
- handler table_name read next;读取第二行
- handler table_name close;


##### 2. show、rename、alter

1. show
- show databases；显示当前数据库
- show tables ；显示所有表
- show columns from table_name； 指定表中所有列

2. rename
- rename table table1 to table2; 将table1改名成table2

3. alter
- alter table table_name add column_name datatype; 在指定表中增加列
- alter table table_name change column_name data datatype; 在指定表中修改指定列名


##### 3. 预处理命令绕过
不能完全按宏定义理解，SQL本身是即时表达式(Immediate Statement),即词法语义解析，优化SQL语句，执行计划，最后执行并返回结果。
因此预处理可以优化SQL语句执行的效率，可以将一些经常执行，但是语句有部分不同或者参数变化的情况，可以一次编译，多次运行，省去解析优化过程，还能防止SQL注入。

- set， 设置参数
 set @param = 'xxxx';
- prepare ，定义预处理语句
prepare statement from 'select * from xxtable'
- execute , 执行预处理语句
execute statement using param


##### 4. sql_mode

- PIPES_AS_CONCAT：将”||”视为字符串的连接操作符而非或运算符，这和Oracle数据库是一样的，也和字符串的拼接函数Concat相类似

```
select 1||2;
#结果
12
```
