思路：

ipa文件相当于是对app文件进行一次压缩，可以得到app打包后所有的资源以及代码编译后的中间文件mach-o。

- 界面分析
  - Cycript、Reveal
- 代码分析
  - 对mach-o文件静态分析
  - MachOView，class-dump，Hopper Disassembler，ida
- 动态调试
  - 对运行中的app进行代码调试
  - debugserver、LLDB
- 代码编写
  - 注入代码到app中
  - 必要时需要重新签名、打包ipa



class-dump

作用是将mach-o文件的class给dump出来（把类信息导出来），生成对应`.h`文件

```shell
class-dump -H XXXX -o $PATH
```



代码编译过程

代码 -> 汇编语言 -> 机器语言(mach-o)

不同的代码可能得到一样的汇编代码，因此通过工具反推回来的源码，只能用来参考，并不是一样。





动态库共享缓存（dyld shared cache）



dsc_extractor 动态库共享缓存提取



Mach-O文件

- .o目标文件
- .a静态库文件
- 可执行文件
- 动态库文件 .framewordk/XX



Universal Binary（通用二进制文件）

包含二进制文件，包含多个不同架构的